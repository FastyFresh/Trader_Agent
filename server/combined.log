{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T00:35:46.289Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T00:37:06.928Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T00:52:34.994Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T00:53:02.086Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T00:53:36.868Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T00:54:08.006Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T00:54:43.332Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T00:55:58.725Z"}
{"level":"error","message":"Error fetching portfolio: Operation `portfolios.findOne()` buffering timed out after 10000ms","stack":"MongooseError: Operation `portfolios.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:185:23)\n    at listOnTimeout (node:internal/timers:614:17)\n    at process.processTimers (node:internal/timers:549:7)","timestamp":"2024-11-03T00:56:09.180Z"}
{"level":"error","message":"Error fetching portfolio: Operation `portfolios.findOne()` buffering timed out after 10000ms","stack":"MongooseError: Operation `portfolios.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:185:23)\n    at listOnTimeout (node:internal/timers:614:17)\n    at process.processTimers (node:internal/timers:549:7)","timestamp":"2024-11-03T00:56:09.181Z"}
{"level":"error","message":"Error calculating performance metrics: Operation `portfolios.findOne()` buffering timed out after 10000ms","stack":"MongooseError: Operation `portfolios.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:185:23)\n    at listOnTimeout (node:internal/timers:614:17)\n    at process.processTimers (node:internal/timers:549:7)","timestamp":"2024-11-03T00:56:09.187Z"}
{"level":"error","message":"Error fetching performance metrics: Operation `portfolios.findOne()` buffering timed out after 10000ms","stack":"MongooseError: Operation `portfolios.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:185:23)\n    at listOnTimeout (node:internal/timers:614:17)\n    at process.processTimers (node:internal/timers:549:7)","timestamp":"2024-11-03T00:56:09.188Z"}
{"level":"error","message":"Error fetching active trades: Operation `trades.find()` buffering timed out after 10000ms","stack":"MongooseError: Operation `trades.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:185:23)\n    at listOnTimeout (node:internal/timers:614:17)\n    at process.processTimers (node:internal/timers:549:7)","timestamp":"2024-11-03T00:56:09.190Z"}
{"level":"error","message":"Error fetching active trades: Operation `trades.find()` buffering timed out after 10000ms","stack":"MongooseError: Operation `trades.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:185:23)\n    at listOnTimeout (node:internal/timers:614:17)\n    at process.processTimers (node:internal/timers:549:7)","timestamp":"2024-11-03T00:56:09.190Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T00:56:12.154Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T00:58:47.070Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T00:58:49.470Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T00:59:19.706Z"}
{"buying_power":"199998.38","equity":"99999.19","level":"info","message":"Connected to Alpaca API:","status":"ACTIVE","timestamp":"2024-11-03T01:34:01.235Z"}
{"buyingPower":"199998.38","cash":"99999.19","equity":"99999.19","level":"info","message":"Account Status:","timestamp":"2024-11-03T01:34:01.588Z"}
{"level":"error","message":"Failed to get market data: code: 404, message: Not Found","stack":"Error: code: 404, message: Not Found\n    at /Users/rickrichman/Desktop/Trader_Agent/server/node_modules/@alpacahq/alpaca-trade-api/dist/resources/datav2/rest_v2.js:72:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2024-11-03T01:34:01.952Z"}
{"level":"error","message":"Paper trading test failed: code: 404, message: Not Found","stack":"Error: code: 404, message: Not Found\n    at /Users/rickrichman/Desktop/Trader_Agent/server/node_modules/@alpacahq/alpaca-trade-api/dist/resources/datav2/rest_v2.js:72:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2024-11-03T01:34:01.952Z"}
{"level":"info","message":"Alpaca service cleanup completed","timestamp":"2024-11-03T01:34:01.953Z"}
{"level":"info","message":"Connected to Alpaca WebSocket","timestamp":"2024-11-03T01:34:01.962Z"}
{"buying_power":"199998.38","equity":"99999.19","level":"info","message":"Connected to Alpaca API:","status":"ACTIVE","timestamp":"2024-11-03T01:35:34.008Z"}
{"buyingPower":"199998.38","cash":"99999.19","equity":"99999.19","level":"info","message":"Account Status:","timestamp":"2024-11-03T01:35:34.397Z"}
{"level":"info","message":"Recent BTC/USD prices:","timestamp":"2024-11-03T01:35:34.682Z"}
{"level":"error","message":"Paper trading test failed: Cannot read properties of undefined (reading 'close')","stack":"TypeError: Cannot read properties of undefined (reading 'close')\n    at testPaperTrading (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/paperTrade.js:22:64)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2024-11-03T01:35:34.683Z"}
{"level":"info","message":"Alpaca service cleanup completed","timestamp":"2024-11-03T01:35:34.684Z"}
{"level":"info","message":"Connected to Alpaca WebSocket","timestamp":"2024-11-03T01:35:34.685Z"}
{"buying_power":"199998.38","equity":"99999.19","level":"info","message":"Connected to Alpaca API:","status":"ACTIVE","timestamp":"2024-11-03T01:36:14.482Z"}
{"buyingPower":"199998.38","cash":"99999.19","equity":"99999.19","level":"info","message":"Account Status:","timestamp":"2024-11-03T01:36:14.712Z"}
{"level":"info","message":"Getting latest BTC quote...","timestamp":"2024-11-03T01:36:14.712Z"}
{"level":"info","message":"Connected to Alpaca WebSocket","timestamp":"2024-11-03T01:36:14.991Z"}
{"level":"error","message":"Paper trading test failed: code: 404, message: no quote found for BTCUSD","stack":"Error: code: 404, message: no quote found for BTCUSD\n    at /Users/rickrichman/Desktop/Trader_Agent/server/node_modules/@alpacahq/alpaca-trade-api/dist/resources/datav2/rest_v2.js:72:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2024-11-03T01:36:14.996Z"}
{"level":"info","message":"Alpaca service cleanup completed","timestamp":"2024-11-03T01:36:14.998Z"}
{"level":"error","message":"Alpaca WebSocket error:","timestamp":"2024-11-03T01:36:15.064Z"}
{"level":"error","message":"Alpaca WebSocket error:","timestamp":"2024-11-03T01:36:15.067Z"}
{"buying_power":"199998.38","equity":"99999.19","level":"info","message":"Connected to Alpaca API:","status":"ACTIVE","timestamp":"2024-11-03T01:46:28.285Z"}
{"level":"info","message":"Positions updated:","timestamp":"2024-11-03T01:46:28.363Z"}
{"level":"info","message":"Orders updated:","timestamp":"2024-11-03T01:46:28.439Z"}
{"buyingPower":"199998.38","cash":"99999.19","daytradeCount":0,"equity":"99999.19","level":"info","message":"Account info retrieved:","status":"ACTIVE","timestamp":"2024-11-03T01:46:28.632Z"}
{"buyingPower":"199998.38","cash":"99999.19","equity":"99999.19","level":"info","message":"Account Status:","timestamp":"2024-11-03T01:46:28.632Z"}
{"level":"info","message":"Getting latest BTC quote...","timestamp":"2024-11-03T01:46:28.633Z"}
{"level":"info","message":"Connected to Alpaca WebSocket","timestamp":"2024-11-03T01:46:28.853Z"}
{"level":"info","message":"Subscribed to BTCUSD data stream","timestamp":"2024-11-03T01:46:28.856Z"}
{"level":"error","message":"Paper trading test failed: code: 404, message: no quote found for BTCUSD","stack":"Error: code: 404, message: no quote found for BTCUSD\n    at /Users/rickrichman/Desktop/Trader_Agent/server/node_modules/@alpacahq/alpaca-trade-api/dist/resources/datav2/rest_v2.js:72:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2024-11-03T01:46:28.915Z"}
{"level":"info","message":"Alpaca service cleanup completed","timestamp":"2024-11-03T01:46:28.916Z"}
{"level":"error","message":"Alpaca WebSocket error:","timestamp":"2024-11-03T01:46:28.924Z"}
{"code":"ERR_HTTP_INVALID_HEADER_VALUE","level":"error","message":"API request failed: GET /accounts Invalid value \"undefined\" for header \"CB-ACCESS-KEY\"","stack":"TypeError [ERR_HTTP_INVALID_HEADER_VALUE]: Invalid value \"undefined\" for header \"CB-ACCESS-KEY\"\n    at ClientRequest.setHeader (node:_http_outgoing:702:3)\n    at new ClientRequest (node:_http_client:295:14)\n    at Object.request (node:https:381:10)\n    at RedirectableRequest._performRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:337:24)\n    at new RedirectableRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:111:8)\n    at Object.request (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:543:14)\n    at dispatchHttpRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/adapters/http.js:202:25)\n    at new Promise (<anonymous>)\n    at httpAdapter (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/adapters/http.js:46:10)\n    at dispatchRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/core/dispatchRequest.js:53:10)","timestamp":"2024-11-03T03:20:16.698Z"}
{"code":"ERR_HTTP_INVALID_HEADER_VALUE","level":"error","message":"Failed to initialize Coinbase service: Invalid value \"undefined\" for header \"CB-ACCESS-KEY\"","stack":"TypeError [ERR_HTTP_INVALID_HEADER_VALUE]: Invalid value \"undefined\" for header \"CB-ACCESS-KEY\"\n    at ClientRequest.setHeader (node:_http_outgoing:702:3)\n    at new ClientRequest (node:_http_client:295:14)\n    at Object.request (node:https:381:10)\n    at RedirectableRequest._performRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:337:24)\n    at new RedirectableRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:111:8)\n    at Object.request (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:543:14)\n    at dispatchHttpRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/adapters/http.js:202:25)\n    at new Promise (<anonymous>)\n    at httpAdapter (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/adapters/http.js:46:10)\n    at dispatchRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/core/dispatchRequest.js:53:10)","timestamp":"2024-11-03T03:20:16.705Z"}
{"code":"ERR_HTTP_INVALID_HEADER_VALUE","level":"error","message":"Trading test failed: Invalid value \"undefined\" for header \"CB-ACCESS-KEY\"","stack":"TypeError [ERR_HTTP_INVALID_HEADER_VALUE]: Invalid value \"undefined\" for header \"CB-ACCESS-KEY\"\n    at ClientRequest.setHeader (node:_http_outgoing:702:3)\n    at new ClientRequest (node:_http_client:295:14)\n    at Object.request (node:https:381:10)\n    at RedirectableRequest._performRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:337:24)\n    at new RedirectableRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:111:8)\n    at Object.request (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:543:14)\n    at dispatchHttpRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/adapters/http.js:202:25)\n    at new Promise (<anonymous>)\n    at httpAdapter (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/adapters/http.js:46:10)\n    at dispatchRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/core/dispatchRequest.js:53:10)","timestamp":"2024-11-03T03:20:16.705Z"}
{"level":"info","message":"Coinbase service cleanup completed","timestamp":"2024-11-03T03:20:16.706Z"}
{"code":"ERR_HTTP_INVALID_HEADER_VALUE","level":"error","message":"API request failed: GET /accounts Invalid value \"undefined\" for header \"CB-ACCESS-KEY\"","stack":"TypeError [ERR_HTTP_INVALID_HEADER_VALUE]: Invalid value \"undefined\" for header \"CB-ACCESS-KEY\"\n    at ClientRequest.setHeader (node:_http_outgoing:702:3)\n    at new ClientRequest (node:_http_client:295:14)\n    at Object.request (node:https:381:10)\n    at RedirectableRequest._performRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:337:24)\n    at new RedirectableRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:111:8)\n    at Object.request (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:543:14)\n    at dispatchHttpRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/adapters/http.js:202:25)\n    at new Promise (<anonymous>)\n    at httpAdapter (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/adapters/http.js:46:10)\n    at dispatchRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/core/dispatchRequest.js:53:10)","timestamp":"2024-11-03T03:22:18.712Z"}
{"code":"ERR_HTTP_INVALID_HEADER_VALUE","level":"error","message":"Failed to initialize Coinbase service: Invalid value \"undefined\" for header \"CB-ACCESS-KEY\"","stack":"TypeError [ERR_HTTP_INVALID_HEADER_VALUE]: Invalid value \"undefined\" for header \"CB-ACCESS-KEY\"\n    at ClientRequest.setHeader (node:_http_outgoing:702:3)\n    at new ClientRequest (node:_http_client:295:14)\n    at Object.request (node:https:381:10)\n    at RedirectableRequest._performRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:337:24)\n    at new RedirectableRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:111:8)\n    at Object.request (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:543:14)\n    at dispatchHttpRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/adapters/http.js:202:25)\n    at new Promise (<anonymous>)\n    at httpAdapter (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/adapters/http.js:46:10)\n    at dispatchRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/core/dispatchRequest.js:53:10)","timestamp":"2024-11-03T03:22:18.720Z"}
{"code":"ERR_HTTP_INVALID_HEADER_VALUE","level":"error","message":"Trading test failed: Invalid value \"undefined\" for header \"CB-ACCESS-KEY\"","stack":"TypeError [ERR_HTTP_INVALID_HEADER_VALUE]: Invalid value \"undefined\" for header \"CB-ACCESS-KEY\"\n    at ClientRequest.setHeader (node:_http_outgoing:702:3)\n    at new ClientRequest (node:_http_client:295:14)\n    at Object.request (node:https:381:10)\n    at RedirectableRequest._performRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:337:24)\n    at new RedirectableRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:111:8)\n    at Object.request (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/follow-redirects/index.js:543:14)\n    at dispatchHttpRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/adapters/http.js:202:25)\n    at new Promise (<anonymous>)\n    at httpAdapter (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/adapters/http.js:46:10)\n    at dispatchRequest (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/axios/lib/core/dispatchRequest.js:53:10)","timestamp":"2024-11-03T03:22:18.720Z"}
{"level":"info","message":"Coinbase service cleanup completed","timestamp":"2024-11-03T03:22:18.721Z"}
{"level":"info","message":"Connected to Solana","timestamp":"2024-11-03T06:11:58.090Z"}
{"level":"info","message":"Wallet initialized:","publicKey":"7q9rLHwPNB1ZaERHLXQeDtgtspT8sRnfHh5eWqDJa2tV","timestamp":"2024-11-03T06:11:58.164Z"}
{"level":"info","message":"Wallet created:","publicKey":"7q9rLHwPNB1ZaERHLXQeDtgtspT8sRnfHh5eWqDJa2tV","timestamp":"2024-11-03T06:11:58.165Z"}
{"balance":"0 SOL","level":"info","message":"Initial balance:","timestamp":"2024-11-03T06:11:58.780Z"}
{"level":"info","message":"Exported wallet secret key","timestamp":"2024-11-03T06:11:58.780Z"}
{"level":"info","message":"Wallet cleanup completed","timestamp":"2024-11-03T06:11:58.781Z"}
{"level":"info","message":"Wallet loaded from secret key:","publicKey":"7q9rLHwPNB1ZaERHLXQeDtgtspT8sRnfHh5eWqDJa2tV","timestamp":"2024-11-03T06:11:58.782Z"}
{"level":"info","message":"Reloaded wallet from secret key:","publicKey":"7q9rLHwPNB1ZaERHLXQeDtgtspT8sRnfHh5eWqDJa2tV","timestamp":"2024-11-03T06:11:58.783Z"}
{"balance":"0 SOL","level":"info","message":"Final balance:","timestamp":"2024-11-03T06:11:58.890Z"}
{"level":"info","message":"Wallet test completed successfully","timestamp":"2024-11-03T06:11:58.891Z"}
{"level":"info","message":"Wallet cleanup completed","timestamp":"2024-11-03T06:11:58.892Z"}
{"level":"info","message":"Connected to Solana","timestamp":"2024-11-03T06:12:46.173Z"}
{"level":"info","message":"Wallet initialized:","publicKey":"E9SJ78r2APNMXQS1aytM8q8R4Q2Z9ehhtWhkVq1aN2CH","timestamp":"2024-11-03T06:12:46.263Z"}
{"level":"info","message":"Wallet created:","publicKey":"E9SJ78r2APNMXQS1aytM8q8R4Q2Z9ehhtWhkVq1aN2CH","timestamp":"2024-11-03T06:12:46.265Z"}
{"balance":"0 SOL","level":"info","message":"Initial balance:","timestamp":"2024-11-03T06:12:46.968Z"}
{"level":"info","message":"Exported wallet secret key","timestamp":"2024-11-03T06:12:46.970Z"}
{"level":"info","message":"Wallet cleanup completed","timestamp":"2024-11-03T06:12:46.971Z"}
{"level":"info","message":"Wallet loaded from secret key:","publicKey":"E9SJ78r2APNMXQS1aytM8q8R4Q2Z9ehhtWhkVq1aN2CH","timestamp":"2024-11-03T06:12:46.973Z"}
{"level":"info","message":"Reloaded wallet from secret key:","publicKey":"E9SJ78r2APNMXQS1aytM8q8R4Q2Z9ehhtWhkVq1aN2CH","timestamp":"2024-11-03T06:12:46.974Z"}
{"balance":"0 SOL","level":"info","message":"Final balance:","timestamp":"2024-11-03T06:12:47.084Z"}
{"level":"info","message":"Wallet test completed successfully","timestamp":"2024-11-03T06:12:47.084Z"}
{"level":"info","message":"Wallet cleanup completed","timestamp":"2024-11-03T06:12:47.085Z"}
{"level":"error","message":"Failed to initialize Drift service: Wallet implementation required","stack":"Error: Wallet implementation required\n    at DriftService.getWallet (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:49:15)\n    at DriftService.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:26:30)\n    at testDriftTrading (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/driftTrade.js:7:28)\n    at Object.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/driftTrade.js:95:5)\n    at Module._compile (node:internal/modules/cjs/loader:1572:14)\n    at Object..js (node:internal/modules/cjs/loader:1709:10)\n    at Module.load (node:internal/modules/cjs/loader:1315:32)\n    at Function._load (node:internal/modules/cjs/loader:1125:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:216:24)","timestamp":"2024-11-03T06:13:13.237Z"}
{"level":"error","message":"Trading test failed: Wallet implementation required","stack":"Error: Wallet implementation required\n    at DriftService.getWallet (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:49:15)\n    at DriftService.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:26:30)\n    at testDriftTrading (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/driftTrade.js:7:28)\n    at Object.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/driftTrade.js:95:5)\n    at Module._compile (node:internal/modules/cjs/loader:1572:14)\n    at Object..js (node:internal/modules/cjs/loader:1709:10)\n    at Module.load (node:internal/modules/cjs/loader:1315:32)\n    at Function._load (node:internal/modules/cjs/loader:1125:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:216:24)","timestamp":"2024-11-03T06:13:13.248Z"}
{"level":"info","message":"Drift service cleanup completed","timestamp":"2024-11-03T06:13:13.249Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T18:22:10.516Z"}
{"level":"info","message":"Initializing research cycle...","timestamp":"2024-11-03T18:22:10.520Z"}
{"level":"info","message":"Initialized with simulated Drift Protocol data","timestamp":"2024-11-03T18:22:10.520Z"}
{"level":"error","message":"Failed to initialize Drift service: this.subscribeToMarketData is not a function","stack":"TypeError: this.subscribeToMarketData is not a function\n    at DriftService.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:31:24)\n    at startResearch (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:18:28)\n    at Server.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:46:34)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:519:35)\n    at emitListeningNT (node:net:1955:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2024-11-03T18:22:10.521Z"}
{"level":"error","message":"Error in research cycle: this.subscribeToMarketData is not a function","stack":"TypeError: this.subscribeToMarketData is not a function\n    at DriftService.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:31:24)\n    at startResearch (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:18:28)\n    at Server.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:46:34)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:519:35)\n    at emitListeningNT (node:net:1955:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2024-11-03T18:22:10.522Z"}
{"level":"error","message":"Failed to complete research cycle: this.subscribeToMarketData is not a function","stack":"TypeError: this.subscribeToMarketData is not a function\n    at DriftService.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:31:24)\n    at startResearch (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:18:28)\n    at Server.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:46:34)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:519:35)\n    at emitListeningNT (node:net:1955:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2024-11-03T18:22:10.522Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T18:23:12.555Z"}
{"level":"info","message":"Initializing research cycle...","timestamp":"2024-11-03T18:23:12.559Z"}
{"level":"info","message":"Initialized with simulated Drift Protocol data","timestamp":"2024-11-03T18:23:12.559Z"}
{"level":"info","message":"Drift service initialized successfully","timestamp":"2024-11-03T18:23:12.560Z"}
{"level":"info","message":"Drift service initialized","timestamp":"2024-11-03T18:23:12.561Z"}
{"level":"error","message":"Error getting historical data for BTC-PERP: Market BTC-PERP not found","stack":"Error: Market BTC-PERP not found\n    at Object.getHistoricalData (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/driftsim.js:69:37)\n    at DriftService.getHistoricalData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:63:38)\n    at MarketAnalysis.initializeMarketData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/MarketAnalysis.js:41:55)\n    at MarketAnalysis.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/MarketAnalysis.js:25:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ResearchAgent.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/agents/ResearchAgent.js:28:13)\n    at async startResearch (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:22:9)\n    at async Server.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:46:28)","timestamp":"2024-11-03T18:23:12.562Z"}
{"level":"error","message":"Error initializing market data for BTC-PERP: Market BTC-PERP not found","stack":"Error: Market BTC-PERP not found\n    at Object.getHistoricalData (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/driftsim.js:69:37)\n    at DriftService.getHistoricalData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:63:38)\n    at MarketAnalysis.initializeMarketData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/MarketAnalysis.js:41:55)\n    at MarketAnalysis.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/MarketAnalysis.js:25:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ResearchAgent.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/agents/ResearchAgent.js:28:13)\n    at async startResearch (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:22:9)\n    at async Server.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:46:28)","timestamp":"2024-11-03T18:23:12.562Z"}
{"level":"error","message":"Failed to initialize market analysis: Market BTC-PERP not found","stack":"Error: Market BTC-PERP not found\n    at Object.getHistoricalData (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/driftsim.js:69:37)\n    at DriftService.getHistoricalData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:63:38)\n    at MarketAnalysis.initializeMarketData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/MarketAnalysis.js:41:55)\n    at MarketAnalysis.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/MarketAnalysis.js:25:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ResearchAgent.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/agents/ResearchAgent.js:28:13)\n    at async startResearch (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:22:9)\n    at async Server.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:46:28)","timestamp":"2024-11-03T18:23:12.563Z"}
{"level":"error","message":"Failed to initialize research agent: Market BTC-PERP not found","stack":"Error: Market BTC-PERP not found\n    at Object.getHistoricalData (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/driftsim.js:69:37)\n    at DriftService.getHistoricalData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:63:38)\n    at MarketAnalysis.initializeMarketData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/MarketAnalysis.js:41:55)\n    at MarketAnalysis.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/MarketAnalysis.js:25:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ResearchAgent.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/agents/ResearchAgent.js:28:13)\n    at async startResearch (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:22:9)\n    at async Server.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:46:28)","timestamp":"2024-11-03T18:23:12.563Z"}
{"level":"error","message":"Error in research cycle: Market BTC-PERP not found","stack":"Error: Market BTC-PERP not found\n    at Object.getHistoricalData (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/driftsim.js:69:37)\n    at DriftService.getHistoricalData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:63:38)\n    at MarketAnalysis.initializeMarketData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/MarketAnalysis.js:41:55)\n    at MarketAnalysis.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/MarketAnalysis.js:25:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ResearchAgent.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/agents/ResearchAgent.js:28:13)\n    at async startResearch (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:22:9)\n    at async Server.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:46:28)","timestamp":"2024-11-03T18:23:12.564Z"}
{"level":"error","message":"Failed to complete research cycle: Market BTC-PERP not found","stack":"Error: Market BTC-PERP not found\n    at Object.getHistoricalData (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/driftsim.js:69:37)\n    at DriftService.getHistoricalData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:63:38)\n    at MarketAnalysis.initializeMarketData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/MarketAnalysis.js:41:55)\n    at MarketAnalysis.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/MarketAnalysis.js:25:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ResearchAgent.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/agents/ResearchAgent.js:28:13)\n    at async startResearch (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:22:9)\n    at async Server.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:46:28)","timestamp":"2024-11-03T18:23:12.565Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T18:25:27.916Z"}
{"level":"info","message":"Initializing research cycle...","timestamp":"2024-11-03T18:25:27.921Z"}
{"level":"info","message":"Initialized with simulated Drift Protocol data","timestamp":"2024-11-03T18:25:27.921Z"}
{"level":"info","message":"Drift service initialized successfully","timestamp":"2024-11-03T18:25:27.921Z"}
{"level":"info","message":"Drift service initialized","timestamp":"2024-11-03T18:25:27.922Z"}
{"level":"info","message":"Initialized market data for SOL-PERP","timestamp":"2024-11-03T18:25:27.923Z"}
{"level":"info","message":"Initialized market data for WBTC-PERP","timestamp":"2024-11-03T18:25:27.923Z"}
{"level":"info","message":"Market Analysis Service initialized","timestamp":"2024-11-03T18:25:27.923Z"}
{"level":"info","message":"Backtest Engine initialized","timestamp":"2024-11-03T18:25:27.924Z"}
{"level":"info","message":"Required daily return:","timestamp":"2024-11-03T18:25:27.924Z"}
{"gridSpacing":null,"level":"info","leverageRange":{"default":null,"max":null,"min":1},"message":"Research parameters initialized:","momentumThreshold":null,"positionSizing":{"maxPositionSize":null,"riskPerTrade":null,"scalingFactor":null},"timeframes":[],"timestamp":"2024-11-03T18:25:27.926Z"}
{"level":"info","message":"Research agent initialized","timestamp":"2024-11-03T18:25:27.926Z"}
{"level":"info","message":"Starting strategy research...","timestamp":"2024-11-03T18:25:27.927Z"}
{"level":"info","message":"Research cycle completed","timestamp":"2024-11-03T18:25:27.927Z"}
{"level":"info","message":"Optimal strategies found:","timestamp":"2024-11-03T18:25:27.928Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T18:28:47.532Z"}
{"level":"info","message":"Initializing research cycle...","timestamp":"2024-11-03T18:28:47.536Z"}
{"level":"info","message":"Initialized with simulated Drift Protocol data","timestamp":"2024-11-03T18:28:47.537Z"}
{"level":"info","message":"Drift service initialized successfully","timestamp":"2024-11-03T18:28:47.537Z"}
{"level":"info","message":"Drift service initialized","timestamp":"2024-11-03T18:28:47.537Z"}
{"level":"info","message":"Initialized market data for SOL-PERP","timestamp":"2024-11-03T18:28:47.538Z"}
{"level":"info","message":"Initialized market data for WBTC-PERP","timestamp":"2024-11-03T18:28:47.539Z"}
{"level":"info","message":"Market Analysis Service initialized","timestamp":"2024-11-03T18:28:47.539Z"}
{"level":"info","message":"Market Analysis Service initialized","timestamp":"2024-11-03T18:28:47.539Z"}
{"level":"info","message":"Backtest Engine initialized","timestamp":"2024-11-03T18:28:47.540Z"}
{"level":"info","message":"Backtest Engine initialized","timestamp":"2024-11-03T18:28:47.540Z"}
{"level":"info","message":"Required daily return to reach $1M:","timestamp":"2024-11-03T18:28:47.540Z"}
{"gridSpacing":null,"level":"info","leverageRange":{"default":null,"max":null,"min":1},"message":"Research parameters initialized:","momentumThreshold":null,"positionSizing":{"maxPositionSize":null,"riskPerTrade":null,"scalingFactor":null},"timeframes":[],"timestamp":"2024-11-03T18:28:47.541Z"}
{"level":"info","message":"Research agent initialized","timestamp":"2024-11-03T18:28:47.541Z"}
{"level":"info","message":"Research agent initialized","timestamp":"2024-11-03T18:28:47.542Z"}
{"level":"info","message":"Starting strategy research...","timestamp":"2024-11-03T18:28:47.542Z"}
{"level":"info","message":"Research cycle completed","timestamp":"2024-11-03T18:28:47.542Z"}
{"level":"info","message":"Research cycle completed","timestamp":"2024-11-03T18:28:47.542Z"}
{"level":"info","message":"Optimal strategies found:","timestamp":"2024-11-03T18:28:47.543Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T18:32:07.537Z"}
{"level":"info","message":"Initializing research cycle...","timestamp":"2024-11-03T18:32:07.541Z"}
{"level":"info","message":"Initialized with simulated Drift Protocol data","timestamp":"2024-11-03T18:32:07.542Z"}
{"level":"info","message":"Drift service initialized successfully","timestamp":"2024-11-03T18:32:07.542Z"}
{"level":"info","message":"Drift service initialized","timestamp":"2024-11-03T18:32:07.542Z"}
{"level":"info","message":"Initialized market data for SOL-PERP","timestamp":"2024-11-03T18:32:07.543Z"}
{"level":"info","message":"Initialized market data for WBTC-PERP","timestamp":"2024-11-03T18:32:07.544Z"}
{"level":"info","message":"Market Analysis Service initialized","timestamp":"2024-11-03T18:32:07.544Z"}
{"level":"info","message":"Market Analysis Service initialized","timestamp":"2024-11-03T18:32:07.544Z"}
{"level":"info","message":"Backtest Engine initialized","timestamp":"2024-11-03T18:32:07.545Z"}
{"level":"info","message":"Backtest Engine initialized","timestamp":"2024-11-03T18:32:07.546Z"}
{"level":"info","message":"Required daily return to reach $1M:","timestamp":"2024-11-03T18:32:07.546Z"}
{"gridSpacing":null,"level":"info","leverageRange":{"default":null,"max":null,"min":1},"message":"Research parameters initialized:","momentumThreshold":null,"positionSizing":{"maxPositionSize":null,"riskPerTrade":null,"scalingFactor":null},"timeframes":[],"timestamp":"2024-11-03T18:32:07.547Z"}
{"level":"info","message":"Research agent initialized","timestamp":"2024-11-03T18:32:07.547Z"}
{"level":"info","message":"Research agent initialized","timestamp":"2024-11-03T18:32:07.548Z"}
{"level":"info","message":"Starting strategy research...","timestamp":"2024-11-03T18:32:07.548Z"}
{"level":"info","message":"Research cycle completed","timestamp":"2024-11-03T18:32:07.548Z"}
{"level":"info","message":"Research cycle completed","timestamp":"2024-11-03T18:32:07.548Z"}
{"level":"info","message":"Optimal strategies found:","timestamp":"2024-11-03T18:32:07.549Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T18:37:07.559Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T18:42:07.525Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T18:47:07.515Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T18:52:07.521Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T18:57:07.519Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T19:02:07.523Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T19:07:07.543Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T19:12:07.528Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T19:17:07.524Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T19:22:07.551Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T19:27:07.544Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T19:32:07.560Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T19:37:07.575Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T19:42:07.550Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T19:47:07.548Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T19:56:20.599Z"}
{"level":"info","message":"Initializing research cycle...","timestamp":"2024-11-03T19:56:20.604Z"}
{"level":"error","message":"Failed to initialize Drift service: Connection is not defined","stack":"ReferenceError: Connection is not defined\n    at DriftService.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:21:37)\n    at startResearch (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:18:28)\n    at Server.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:46:34)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:519:35)\n    at emitListeningNT (node:net:1955:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2024-11-03T19:56:30.783Z"}
{"level":"error","message":"Error in research cycle: Connection is not defined","stack":"ReferenceError: Connection is not defined\n    at DriftService.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:21:37)\n    at startResearch (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:18:28)\n    at Server.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:46:34)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:519:35)\n    at emitListeningNT (node:net:1955:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2024-11-03T19:56:30.784Z"}
{"level":"error","message":"Failed to complete research cycle: Connection is not defined","stack":"ReferenceError: Connection is not defined\n    at DriftService.initialize (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:21:37)\n    at startResearch (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:18:28)\n    at Server.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/server.js:46:34)\n    at Object.onceWrapper (node:events:621:28)\n    at Server.emit (node:events:519:35)\n    at emitListeningNT (node:net:1955:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)","timestamp":"2024-11-03T19:56:30.785Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T19:58:26.466Z"}
{"level":"info","message":"CORS enabled for development ports 5173-5176","timestamp":"2024-11-03T19:58:26.473Z"}
{"level":"info","message":"Initializing research cycle...","timestamp":"2024-11-03T19:58:26.474Z"}
{"level":"info","message":"Initialized with simulated Drift Protocol data","timestamp":"2024-11-03T19:58:26.474Z"}
{"level":"info","message":"Drift service initialized successfully","timestamp":"2024-11-03T19:58:26.474Z"}
{"level":"info","message":"Drift service initialized","timestamp":"2024-11-03T19:58:26.475Z"}
{"level":"info","message":"Initialized market data for SOL-PERP","timestamp":"2024-11-03T19:58:26.476Z"}
{"level":"info","message":"Initialized market data for WBTC-PERP","timestamp":"2024-11-03T19:58:26.476Z"}
{"level":"info","message":"Market Analysis Service initialized","timestamp":"2024-11-03T19:58:26.476Z"}
{"level":"info","message":"Market Analysis Service initialized","timestamp":"2024-11-03T19:58:26.477Z"}
{"level":"info","message":"Backtest Engine initialized","timestamp":"2024-11-03T19:58:26.477Z"}
{"level":"info","message":"Backtest Engine initialized","timestamp":"2024-11-03T19:58:26.477Z"}
{"level":"info","message":"Required daily return to reach $1M:","timestamp":"2024-11-03T19:58:26.478Z"}
{"gridSpacing":null,"level":"info","leverageRange":{"default":null,"max":null,"min":1},"message":"Research parameters initialized:","momentumThreshold":null,"positionSizing":{"maxPositionSize":null,"riskPerTrade":null,"scalingFactor":null},"timeframes":[],"timestamp":"2024-11-03T19:58:26.478Z"}
{"level":"info","message":"Research agent initialized","timestamp":"2024-11-03T19:58:26.478Z"}
{"level":"info","message":"Research agent initialized","timestamp":"2024-11-03T19:58:26.478Z"}
{"level":"info","message":"Starting strategy research...","timestamp":"2024-11-03T19:58:26.479Z"}
{"level":"info","message":"Research cycle completed","timestamp":"2024-11-03T19:58:26.479Z"}
{"level":"info","message":"Research cycle completed","timestamp":"2024-11-03T19:58:26.479Z"}
{"level":"info","message":"Optimal strategies found:","timestamp":"2024-11-03T19:58:26.480Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T20:03:26.493Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T20:12:23.512Z"}
{"level":"info","message":"CORS enabled for development ports 5173-5176","timestamp":"2024-11-03T20:12:23.517Z"}
{"level":"info","message":"Initializing research cycle...","timestamp":"2024-11-03T20:12:23.518Z"}
{"level":"info","message":"Initialized with simulated Drift Protocol data","timestamp":"2024-11-03T20:12:23.518Z"}
{"level":"info","message":"Drift service initialized successfully","timestamp":"2024-11-03T20:12:23.518Z"}
{"level":"info","message":"Drift service initialized","timestamp":"2024-11-03T20:12:23.519Z"}
{"level":"info","message":"Initialized market data for SOL-PERP","timestamp":"2024-11-03T20:12:23.520Z"}
{"level":"info","message":"Initialized market data for WBTC-PERP","timestamp":"2024-11-03T20:12:23.521Z"}
{"level":"info","message":"Market Analysis Service initialized","timestamp":"2024-11-03T20:12:23.521Z"}
{"level":"info","message":"Market Analysis Service initialized","timestamp":"2024-11-03T20:12:23.522Z"}
{"level":"info","message":"Backtest Engine initialized","timestamp":"2024-11-03T20:12:23.522Z"}
{"level":"info","message":"Backtest Engine initialized","timestamp":"2024-11-03T20:12:23.522Z"}
{"level":"info","message":"Required daily return to reach $1M:","timestamp":"2024-11-03T20:12:23.523Z"}
{"gridSpacing":null,"level":"info","leverageRange":{"default":null,"max":null,"min":1},"message":"Research parameters initialized:","momentumThreshold":null,"positionSizing":{"maxPositionSize":null,"riskPerTrade":null,"scalingFactor":null},"timeframes":[],"timestamp":"2024-11-03T20:12:23.525Z"}
{"level":"info","message":"Research agent initialized","timestamp":"2024-11-03T20:12:23.525Z"}
{"level":"info","message":"Research agent initialized","timestamp":"2024-11-03T20:12:23.525Z"}
{"level":"info","message":"Starting strategy research...","timestamp":"2024-11-03T20:12:23.525Z"}
{"level":"info","message":"Research cycle completed","timestamp":"2024-11-03T20:12:23.525Z"}
{"level":"info","message":"Research cycle completed","timestamp":"2024-11-03T20:12:23.525Z"}
{"level":"info","message":"Optimal strategies found:","timestamp":"2024-11-03T20:12:23.526Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T20:17:23.528Z"}
{"level":"info","message":"All strategies stopped","timestamp":"2024-11-03T20:17:29.519Z"}
{"level":"info","message":"Momentum Strategy initialized for SOL-PERP","timestamp":"2024-11-03T20:17:29.520Z"}
{"level":"info","message":"Momentum strategy initialized for:","timestamp":"2024-11-03T20:17:29.520Z"}
{"level":"info","message":"Momentum Strategy initialized for SOL-PERP","timestamp":"2024-11-03T20:17:29.520Z"}
{"level":"info","message":"Momentum strategy initialized for:","timestamp":"2024-11-03T20:17:29.520Z"}
{"level":"info","message":"AutoTrader started in phase:","timestamp":"2024-11-03T20:17:29.520Z"}
{"level":"warn","message":"AutoTrader is already running","timestamp":"2024-11-03T20:21:53.120Z"}
{"level":"warn","message":"AutoTrader is already running","timestamp":"2024-11-03T20:21:56.821Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T20:22:23.531Z"}
{"level":"info","message":"Starting sample trade execution...","timestamp":"2024-11-03T20:22:45.989Z"}
{"level":"error","message":"Error getting market data for SOL-PERP: Cannot read properties of undefined (reading 'getMarketData')","stack":"TypeError: Cannot read properties of undefined (reading 'getMarketData')\n    at DriftService.getMarketData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:54:38)\n    at executeSampleTrade (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/sampleTrade.js:9:47)\n    at Object.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/sampleTrade.js:49:1)\n    at Module._compile (node:internal/modules/cjs/loader:1572:14)\n    at Object..js (node:internal/modules/cjs/loader:1709:10)\n    at Module.load (node:internal/modules/cjs/loader:1315:32)\n    at Function._load (node:internal/modules/cjs/loader:1125:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:216:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:170:5)","timestamp":"2024-11-03T20:22:45.995Z"}
{"level":"error","message":"Error executing sample trade: Cannot read properties of undefined (reading 'getMarketData')","stack":"TypeError: Cannot read properties of undefined (reading 'getMarketData')\n    at DriftService.getMarketData (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/drift.js:54:38)\n    at executeSampleTrade (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/sampleTrade.js:9:47)\n    at Object.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/src/test/sampleTrade.js:49:1)\n    at Module._compile (node:internal/modules/cjs/loader:1572:14)\n    at Object..js (node:internal/modules/cjs/loader:1709:10)\n    at Module.load (node:internal/modules/cjs/loader:1315:32)\n    at Function._load (node:internal/modules/cjs/loader:1125:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:216:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:170:5)","timestamp":"2024-11-03T20:22:45.997Z"}
{"level":"warn","message":"AutoTrader is already running","timestamp":"2024-11-03T20:25:30.581Z"}
{"level":"warn","message":"AutoTrader is already running","timestamp":"2024-11-03T20:25:31.573Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T20:27:23.533Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T20:32:23.535Z"}
{"level":"warn","message":"AutoTrader is already running","timestamp":"2024-11-03T20:32:43.524Z"}
{"level":"warn","message":"AutoTrader is already running","timestamp":"2024-11-03T20:32:43.997Z"}
{"level":"warn","message":"AutoTrader is already running","timestamp":"2024-11-03T20:32:45.495Z"}
{"level":"warn","message":"AutoTrader is already running","timestamp":"2024-11-03T20:32:47.271Z"}
{"level":"error","message":"Failed to connect to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"},"stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/connection.js:791:11)\n    at async setupDatabase (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/database.js:12:9)\n    at async startServer (/Users/rickrichman/Desktop/Trader_Agent/server/src/index.js:112:9)","timestamp":"2024-11-03T20:36:40.010Z"}
{"level":"error","message":"Failed to connect to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"},"stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/connection.js:791:11)\n    at async setupDatabase (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/database.js:12:9)\n    at async startServer (/Users/rickrichman/Desktop/Trader_Agent/server/src/index.js:112:9)","timestamp":"2024-11-03T20:36:40.034Z"}
{"level":"error","message":"Failed to connect to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"},"stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/connection.js:791:11)\n    at async setupDatabase (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/database.js:12:9)\n    at async startServer (/Users/rickrichman/Desktop/Trader_Agent/server/src/index.js:112:9)","timestamp":"2024-11-03T20:36:40.060Z"}
{"level":"error","message":"Failed to connect to MongoDB: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"},"stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongoose/lib/connection.js:791:11)\n    at async setupDatabase (/Users/rickrichman/Desktop/Trader_Agent/server/src/services/database.js:12:9)\n    at async startServer (/Users/rickrichman/Desktop/Trader_Agent/server/src/index.js:112:9)","timestamp":"2024-11-03T20:36:40.063Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T20:37:23.539Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:40:03.293Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:40:03.827Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:40:03.833Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:41:34.511Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:41:34.516Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:41:34.528Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:41:34.534Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:41:34.538Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:41:34.578Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:41:34.589Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:41:34.604Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:41:34.617Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:41:34.623Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:41:34.643Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:41:34.689Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:41:34.694Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:41:34.697Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:41:34.702Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:42:01.448Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:42:01.473Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:42:01.478Z"}
{"level":"info","message":"Market analysis updated","timestamp":"2024-11-03T20:42:23.542Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:43:51.663Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:43:51.693Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:43:51.696Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:43:51.821Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:43:51.826Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:43:51.833Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:43:51.868Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:43:51.868Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:43:51.926Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:43:51.937Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:43:51.944Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:43:51.952Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:43:51.958Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:43:51.983Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:43:51.995Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:43:52.000Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:43:52.003Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:43:52.048Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:43:52.053Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:43:52.062Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:43:52.067Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:44:31.271Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:44:31.276Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:44:31.271Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:44:31.277Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:44:31.283Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:44:31.285Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:44:31.345Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:44:31.357Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:44:31.401Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:44:31.410Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:44:31.420Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:44:31.427Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:44:31.435Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:44:31.442Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:44:31.447Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:44:31.528Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:44:31.533Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:44:31.599Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:44:31.606Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:44:31.628Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:44:31.635Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:44:39.261Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:44:39.311Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:44:39.316Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:45:03.321Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:45:03.350Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:45:03.355Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2024-11-03T20:45:03.355Z"}
{"level":"info","message":"Initialized with simulated Drift Protocol data","timestamp":"2024-11-03T20:45:03.356Z"}
{"level":"info","message":"Drift service initialized successfully","timestamp":"2024-11-03T20:45:03.356Z"}
{"level":"info","message":"Market service initialized with Drift Protocol","timestamp":"2024-11-03T20:45:03.356Z"}
{"level":"info","message":"Market service initialized","timestamp":"2024-11-03T20:45:03.357Z"}
{"level":"info","message":"Strategy Manager initialized successfully","timestamp":"2024-11-03T20:45:03.357Z"}
{"level":"info","message":"Strategy manager initialized","timestamp":"2024-11-03T20:45:03.357Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T20:45:03.359Z"}
{"level":"info","message":"WebSocket server available at ws://localhost:3000","timestamp":"2024-11-03T20:45:03.359Z"}
{"level":"info","message":"REST API available at http://localhost:3000/api","timestamp":"2024-11-03T20:45:03.359Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:46:03.366Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:46:03.369Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:47:03.360Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:47:03.362Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:48:03.361Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:48:03.362Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:49:03.333Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:49:03.334Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:50:03.333Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:50:03.336Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:51:03.333Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:51:03.336Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:51:53.158Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:51:53.186Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:51:53.190Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:52:03.332Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:52:03.334Z"}
{"level":"info","message":"Shutting down server...","timestamp":"2024-11-03T20:52:21.500Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:52:26.144Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:52:26.238Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:52:26.243Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2024-11-03T20:52:26.243Z"}
{"level":"info","message":"Initialized with simulated Drift Protocol data","timestamp":"2024-11-03T20:52:26.243Z"}
{"level":"info","message":"Drift service initialized successfully","timestamp":"2024-11-03T20:52:26.244Z"}
{"level":"info","message":"Market service initialized with Drift Protocol","timestamp":"2024-11-03T20:52:26.244Z"}
{"level":"info","message":"Market service initialized","timestamp":"2024-11-03T20:52:26.244Z"}
{"level":"info","message":"Strategy Manager initialized successfully","timestamp":"2024-11-03T20:52:26.245Z"}
{"level":"info","message":"Strategy manager initialized","timestamp":"2024-11-03T20:52:26.245Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T20:52:26.246Z"}
{"level":"info","message":"WebSocket server available at ws://localhost:3000","timestamp":"2024-11-03T20:52:26.247Z"}
{"level":"info","message":"REST API available at http://localhost:3000/api","timestamp":"2024-11-03T20:52:26.247Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:53:26.251Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:53:26.253Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:54:26.245Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:54:26.247Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:55:26.246Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:55:26.248Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:56:26.245Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:56:26.247Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:56:52.444Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:56:52.469Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:56:52.473Z"}
{"level":"info","message":"Shutting down server...","timestamp":"2024-11-03T20:57:05.479Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T20:57:11.331Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T20:57:11.359Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T20:57:11.364Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2024-11-03T20:57:11.365Z"}
{"level":"info","message":"Initialized with simulated Drift Protocol data","timestamp":"2024-11-03T20:57:11.365Z"}
{"level":"info","message":"Drift service initialized successfully","timestamp":"2024-11-03T20:57:11.365Z"}
{"level":"info","message":"Market service initialized with Drift Protocol","timestamp":"2024-11-03T20:57:11.366Z"}
{"level":"info","message":"Market service initialized","timestamp":"2024-11-03T20:57:11.366Z"}
{"level":"info","message":"Strategy Manager initialized successfully","timestamp":"2024-11-03T20:57:11.366Z"}
{"level":"info","message":"Strategy manager initialized","timestamp":"2024-11-03T20:57:11.367Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T20:57:11.368Z"}
{"level":"info","message":"WebSocket server available at ws://localhost:3000","timestamp":"2024-11-03T20:57:11.368Z"}
{"level":"info","message":"REST API available at http://localhost:3000/api","timestamp":"2024-11-03T20:57:11.368Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:58:11.377Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:58:11.380Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:59:11.369Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T20:59:11.370Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:00:11.370Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:00:11.372Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:01:11.371Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:01:11.374Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T21:01:54.298Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T21:01:54.329Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T21:01:54.334Z"}
{"level":"info","message":"Shutting down server...","timestamp":"2024-11-03T21:02:08.642Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T21:02:10.675Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T21:02:10.711Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T21:02:10.715Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2024-11-03T21:02:10.716Z"}
{"level":"info","message":"Initialized with simulated Drift Protocol data","timestamp":"2024-11-03T21:02:10.717Z"}
{"level":"info","message":"Drift service initialized successfully","timestamp":"2024-11-03T21:02:10.718Z"}
{"level":"info","message":"Market service initialized with Drift Protocol","timestamp":"2024-11-03T21:02:10.718Z"}
{"level":"info","message":"Market service initialized","timestamp":"2024-11-03T21:02:10.718Z"}
{"level":"info","message":"Strategy Manager initialized successfully","timestamp":"2024-11-03T21:02:10.719Z"}
{"level":"info","message":"Strategy manager initialized","timestamp":"2024-11-03T21:02:10.719Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T21:02:10.721Z"}
{"level":"info","message":"WebSocket server available at ws://localhost:3000","timestamp":"2024-11-03T21:02:10.721Z"}
{"level":"info","message":"REST API available at http://localhost:3000/api","timestamp":"2024-11-03T21:02:10.721Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:03:10.726Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:03:10.729Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:04:10.719Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:04:10.721Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:05:10.720Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:05:10.722Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:06:10.721Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:06:10.722Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:07:10.720Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:07:10.722Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:08:10.720Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:08:10.722Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:09:10.721Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:09:10.722Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:10:10.720Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:10:10.722Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:11:10.721Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:11:10.722Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:12:10.720Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:12:10.721Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:13:10.721Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:13:10.722Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T21:13:45.707Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T21:13:45.738Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T21:13:45.741Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:14:10.726Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:14:10.729Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:15:10.720Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:15:10.722Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:16:10.730Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:16:10.732Z"}
{"level":"info","message":"Shutting down server...","timestamp":"2024-11-03T21:16:47.881Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T21:16:56.022Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T21:16:56.055Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T21:16:56.062Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2024-11-03T21:16:56.062Z"}
{"level":"info","message":"Initialized with simulated Drift Protocol data","timestamp":"2024-11-03T21:16:56.063Z"}
{"level":"info","message":"Drift service initialized successfully","timestamp":"2024-11-03T21:16:56.064Z"}
{"level":"info","message":"Market service initialized with Drift Protocol","timestamp":"2024-11-03T21:16:56.064Z"}
{"level":"info","message":"Market service initialized","timestamp":"2024-11-03T21:16:56.065Z"}
{"level":"info","message":"Strategy Manager initialized successfully","timestamp":"2024-11-03T21:16:56.065Z"}
{"level":"info","message":"Strategy manager initialized","timestamp":"2024-11-03T21:16:56.066Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T21:16:56.067Z"}
{"level":"info","message":"WebSocket server available at ws://localhost:3000","timestamp":"2024-11-03T21:16:56.068Z"}
{"level":"info","message":"REST API available at http://localhost:3000/api","timestamp":"2024-11-03T21:16:56.068Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:17:56.069Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:17:56.071Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:18:56.062Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:18:56.064Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:19:56.061Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:19:56.062Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:20:56.062Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:20:56.065Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T21:20:57.120Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T21:20:57.147Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T21:20:57.152Z"}
{"level":"info","message":"Shutting down server...","timestamp":"2024-11-03T21:21:15.536Z"}
{"level":"info","message":"Connected to MongoDB successfully","timestamp":"2024-11-03T21:21:32.073Z"}
{"level":"info","message":"Created timestamp index for Trade","timestamp":"2024-11-03T21:21:32.121Z"}
{"level":"info","message":"Database indexes created successfully","timestamp":"2024-11-03T21:21:32.124Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2024-11-03T21:21:32.124Z"}
{"level":"info","message":"Initialized with simulated Drift Protocol data","timestamp":"2024-11-03T21:21:32.125Z"}
{"level":"info","message":"Drift service initialized successfully","timestamp":"2024-11-03T21:21:32.125Z"}
{"level":"info","message":"Market service initialized with Drift Protocol","timestamp":"2024-11-03T21:21:32.125Z"}
{"level":"info","message":"Market service initialized","timestamp":"2024-11-03T21:21:32.126Z"}
{"level":"info","message":"Strategy Manager initialized successfully","timestamp":"2024-11-03T21:21:32.126Z"}
{"level":"info","message":"Strategy manager initialized","timestamp":"2024-11-03T21:21:32.126Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2024-11-03T21:21:32.128Z"}
{"level":"info","message":"WebSocket server available at ws://localhost:3000","timestamp":"2024-11-03T21:21:32.129Z"}
{"level":"info","message":"REST API available at http://localhost:3000/api","timestamp":"2024-11-03T21:21:32.129Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:22:32.135Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:22:32.137Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:23:32.128Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:23:32.129Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Failed to update prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:24:32.128Z"}
{"code":20,"codeName":"IllegalOperation","level":"error","message":"Error updating prices: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.onMessage (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:507:28)\n    at processIncomingData (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/rickrichman/Desktop/Trader_Agent/server/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:570:12)\n    at _write (node:internal/streams/writable:499:10)\n    at Writable.write (node:internal/streams/writable:508:10)\n    at Socket.ondata (node:internal/streams/readable:1007:22)\n    at Socket.emit (node:events:507:28)","timestamp":"2024-11-03T21:24:32.130Z"}
